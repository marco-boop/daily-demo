<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="scratch.css">
    <script crossorigin src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script crossorigin src="https://unpkg.com/@daily-co/daily-js"></script>
    
    <script>
      $(document).ready(function(){
        callFrame = window.DailyIframe.createFrame();

        callFrame.join({ url: 'https://msj.daily.co/hello' });

        callFrame.on('participant-joined', (event) => { 
               var participant_id = event.participant.user_id;
               var video_status = event.participant.video;
               $('#participants-table tr:last').after('<tr id='+participant_id+'><td>'+participant_id+'</td><td>'+video_status+'</td></tr>');
            })   

        callFrame.on('participant-updated', (event) => { 
               var participant_id = event.participant.user_id;
               var video_status = event.participant.video;
               $('#participants-table #'+participant_id+'').html('<tr id='+participant_id+'><td>'+participant_id+'</td><td>'+video_status+'</td></tr>');
           }) 
        })
      
      </script>
  </head>

  <body>
  	<h2>Marco's Room</h2>

    <div>
      <table id="participants-table">
        <tr>
          <th>User Id</th>
          <th>Camera On / Hand Raise</th>
        </tr>
      </table>
    </div>

  </body>
</html>